# Workspace Metadata Index
# Generated by WorkspaceAnalyzer
# Date: 2026-02-27T09:13:31.557901
# Note: Test projects (zom_*) excluded. Use ws_analyzer_all.dart to include them.

scan-timestamp: "2026-02-27T09:13:31.557901"

name: ws_merge_actions

binaries: bin/

operating-systems: [macos, linux, windows]

mobile-platforms: [android, ios]

actions:
  build:
    skip-types: [vscode_extension]
    default:
      commands: [dart analyze lib, dart run build_runner build --delete-conflicting-outputs]
    dart_package:
      commands: [dart analyze lib test, dart run build_runner build --delete-conflicting-outputs]
  test:
    default:
      commands: [dart test]
    flutter_app:
      commands: [flutter test]
  compile:
    applies-to-types: [dart_console]
    default:
      commands: ["dart compile exe bin/main.dart -o bin/$VAL{name}"]
      output: bin/
  run:
    default:
      commands: [dart run]
    flutter_app:
      commands: [flutter run]
  deploy:
    skip-types: [dart_package, vscode_extension]
    default:
      commands: ["echo \"Deployment not configured\""]

cross-compilation:
  all-targets: [darwin-x64, darwin-arm64, linux-x64, linux-arm64, win32-x64]
  build-on:
    darwin-arm64:
      targets: [darwin-arm64, linux-x64, linux-arm64]
    darwin-x64:
      targets: [darwin-x64, linux-x64, linux-arm64]
    linux-x64:
      targets: [linux-x64, linux-arm64]

environment-mode-definitions:
  default:
    description: Default environment
  local:
    description: Local development
    working-dir: .
    variables:
      DEBUG: true
  prod:
    description: Production
    variables:
      DEBUG: false

deployment-mode-definitions:
  default:
    strategy: rolling
  none:
    description: No deployment
  kubernetes:
    description: Kubernetes deployment
    namespace: default
    replicas: 1

build-order: [project_no_overrides, project_with_action_override, project_with_cross_compile, project_with_mode_override]

projects:
  project_no_overrides:
    name: Project No Overrides
    type: dart_package
    features:
      has-reflection: false
      has-build-runner: false
      has-native-deps: false
      has-assets: false
      publishable: true
      has-tests: false
      has-examples: false
      has-docker: false
      has-ci: false
    pubspec:
      name: project_no_overrides
      version: 1.0.0
      environment:
        sdk: ^3.0.0
    packageModule:
      displayName: Project No Overrides
      sources: [project_no_overrides.dart]
    parts:
      src:
        name: Src
        sources: [version.versioner.dart]
  project_with_action_override:
    name: Project With Action Override
    type: dart_package
    features:
      has-reflection: false
      has-build-runner: false
      has-native-deps: false
      has-assets: false
      publishable: true
      has-tests: false
      has-examples: false
      has-docker: false
      has-ci: false
    actions:
      build:
        default:
          commands: [custom-build-step-1, custom-build-step-2]
      test:
        default:
          commands: [dart test]
        flutter_app:
          commands: [flutter test]
      compile:
        applies-to-types: [dart_console]
        default:
          commands: ["dart compile exe bin/main.dart -o bin/$VAL{name}"]
          output: bin/
      run:
        default:
          commands: [dart run]
        flutter_app:
          commands: [flutter run]
      deploy:
        skip-types: [dart_package, vscode_extension]
        default:
          commands: ["echo \"Deployment not configured\""]
    pubspec:
      name: project_with_action_override
      version: 1.0.0
      environment:
        sdk: ^3.0.0
    packageModule:
      displayName: Project With Action Override
      sources: [project_with_action_override.dart]
    parts:
      src:
        name: Src
        sources: [version.versioner.dart]
  project_with_cross_compile:
    name: Project With Cross Compile
    type: dart_console
    features:
      has-reflection: false
      has-build-runner: false
      has-native-deps: false
      has-assets: false
      publishable: true
      has-tests: false
      has-examples: false
      has-docker: false
      has-ci: false
    cross-compilation:
      all-targets: [darwin-x64, darwin-arm64, linux-x64, linux-arm64, win32-x64]
      build-on:
        darwin-arm64:
          targets: [darwin-arm64]
          custom-flag: --optimize
        darwin-x64:
          targets: [darwin-x64, linux-x64, linux-arm64]
        linux-x64:
          targets: [linux-x64, linux-arm64]
      targets: [darwin-arm64, linux-x64]
      output-dir: "bin/${target}/"
    pubspec:
      name: project_with_cross_compile
      version: 1.0.0
      environment:
        sdk: ^3.0.0
    parts:
      bin:
        name: Bin
        sources: [main.dart]
      lib:
        name: Lib
        sources: [project_with_cross_compile.dart]
  project_with_mode_override:
    name: Project With Mode Override
    type: dart_package
    features:
      has-reflection: false
      has-build-runner: false
      has-native-deps: false
      has-assets: false
      publishable: true
      has-tests: false
      has-examples: false
      has-docker: false
      has-ci: false
    deployment-mode-definitions:
      default:
        strategy: rolling
      none:
        description: No deployment
      kubernetes:
        description: Custom K8s config for this project
        namespace: my-app
        replicas: 3
        resources:
          cpu: 500m
          memory: 512Mi
    pubspec:
      name: project_with_mode_override
      version: 1.0.0
      environment:
        sdk: ^3.0.0
    packageModule:
      displayName: Project With Mode Override
      sources: [project_with_mode_override.dart]
    parts:
      src:
        name: Src
        sources: [version.versioner.dart]
